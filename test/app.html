<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

	<title>Save Time app</title>

	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
			border: none;
		}
		._canvas {
			position: relative;
			display: flex;
			width: 540px;
			height: 960px;
			background-color: #eee;
		}
	</style>

</head>
<body>
	<div class="conteiner">
		<div class="_canvas">
			<div id="">
				<div>sjj sjjnsjs</div>
			</div>
		</div>
		<button class="_save_image" onclick="saveImage()">
			Exportar
		</button>
	</div>
	
	<footer>
		<script type="text/javascript">

			//REQUEST
			function saveImage(){
				const instance = axios.create({
					baseURL: 'https://api.apiflash.com/v1'
				})

				instance.get('/urltoimage?access_key=ef0249bdde07485695646bb16f231f4c', {
					responseType: 'blob',
					params: {
						url: 'https://univida-savetime.herokuapp.com/',
						fresh: 'true',
						element: '._canvas',
						format: 'png',
						response_type: 'image'
					}
				})
				.then((response)=>{
					console.log(response.data);
					const url = window.URL.createObjectURL(new Blob([response.data]));
					const link = document.createElement('a');
					link.href = url;
					link.setAttribute("download", "testeimg.png");
					document.body.appendChild(link);
					link.click();
				})
				
			}

		</script>
	</footer>

</body>
</html>